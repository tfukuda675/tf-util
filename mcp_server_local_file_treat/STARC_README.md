# STARC Verilog HDL コーディングガイドライン まとめ

## 概要

このドキュメントは、STARC（Semiconductor Technology Academic Research Center）が策定したVerilog HDLのコーディング規約をまとめたものです。MISRA-Cのようなソフトウェア開発のコーディング規約をハードウェア設計に適用し、設計品質の向上と検証効率の改善を目的としています。

**ドキュメント情報:**
- ページ数: 47ページ
- ソースファイル: `starc_verilog_hdl201011.pptx-1.pdf`
- 作成日: 2010年9月15日

## 主な目的

1. **設計品質の向上**: RTL（Register Transfer Level）設計における品質向上
2. **検証効率の改善**: シミュレーションと検証プロセスの効率化
3. **再利用性の向上**: 設計の再利用を促進
4. **可読性の向上**: コードの理解と保守を容易にする

## ガイドラインの構成

### A章: 基本原則

#### A.1 基本的な命名規則 `<1>`
- ファイル名は`<>.v`形式を使用（Verilog）
- アンダースコア`_`と英数字のみ使用
- 大文字小文字を区別（OS依存性を考慮）

#### A.2 モジュール設計 `<2>`
1. **モジュール分割** (A.2.1)
2. **階層設計** (A.2.2)
3. **インターフェース設計** (A.2.3)
4. **パラメータ設計** (A.2.4)

#### A.3 FPGA対応 `<4>`
1. **FPGA特有の考慮事項** (A.3.1)
2. **FPGA vs ASIC設計** (A.3.2) - Verilog HDL ver.2対応

### B章: always文とRTL記述

#### B.1 always文の使用 `<2>`
1. **基本的な使い方** (B.1.1)
2. **always文の記述方法** (B.1.2)
3. **フリップフロップ（FF）の記述** (B.1.3)
4. **組み合わせ回路の記述** (B.1.4)
5. **クロックとリセット** (B.1.5)
6. **always文の分割** (B.1.6)

#### B.2 制御構文 `<2>`
1. **if文の使用** (B.2.1)
2. **case文の使用** (B.2.2)
3. **for文の使用** (B.2.3)

#### B.3 RTL設計
1. **基本的なRTL記述** (B.3.1) `<2>`
2. **推奨されるRTL記述** (B.3.2) `<3>`

### C章: 設計手法

#### C.1 信号とパラメータ `<3>`
1. **信号の命名規則** (C.1.1)
2. **パラメータの使用** (C.1.2)

#### C.2 DFT（Design For Test）配慮 `<4>`
テスト容易性設計の考慮事項

#### C.3 タイミング設計 `<3>`
クリティカルパスとタイミング制約の考慮

#### C.4 リセットとクロック `<1>`
リセット信号とクロック設計のベストプラクティス

### D章: 検証

#### D.1 テストベンチ設計
1. **基本的なテストベンチ** (D.1.1) `<2>`
2. **タスク記述** (D.1.2) `<3>`

#### D.2 検証プロセス `<3>`
検証手法と検証フロー

#### D.3 シミュレーション `<4>`
シミュレーション実行と結果確認

#### D.4 静的タイミング解析 `<3>`
タイミング解析の実施方法

## 詳細なコーディング規則

### 1.1 命名規則

#### 1.1.1 基本命名規則
- ファイル名: `<>.v`形式（Verilog）
- 使用可能文字: アンダースコア`_`、英数字、一部の記号`'[]`
- IEEE準拠: Verilog HDL (IEEE1364), SystemVerilog (IEEE1800), VHDL (IEEE1076.X)

#### 1.1.2 予約語と特殊名称
- 電源関連: "VDD", "VSS", "VCC", "GND", "VREF"は避ける
- 大文字小文字を区別（AbcとabcOSの違いを考慮）

#### 1.1.3 サフィックス規則
- アンダースコアとサフィックスの使用（例: "_X", "_N"）
- モジュール名形式: `<>_<>`（Verilog）

#### 1.1.4 ファイル名規則
- モジュール名は2〜32文字
- 16進数は2桁まで
- 128ビットは3桁まで
- TOP階層は明示的に命名

#### 1.1.5 include/defineファイル
- includeファイル: `.h`, `.vh`, `.inc`
- 拡張子: `.h`, `.inc`, `.ht`, `.tsk`（Verilog HDL）

### 1.2 信号命名規則

- モジュール間信号: プレフィックス/サフィックスで識別
- クロック信号: `CLK`または`CK`
- リセット信号: `RST_X`または`RESET_X`
- イネーブル信号: `EN`

### 1.3 定数とパラメータ

- `define`による定数定義は2〜40文字（Verilog）
- 24ビットは2桁で表現

### 1.7 FPGA設計

- FPGA専用設計は1つのFPGAベンダーに依存しない
- FPGA/ASIC共通設計では`ifdef`を使用して切り替え

## ファイル構成

### 3.5 ファイル管理規則

1. **RTLファイル**: マスターは1つ
2. **Verilogファイル**: `<>.v`形式
3. **テストベンチ**: `_tb.v`, `_test.v`, `.vt`形式
4. **ネットリスト**: `<>.v`, `.vnet`形式
5. **includeファイル**: `.h`, `.vh`, `.inc`
6. **実行スクリプト**: `.run`（Unix）
7. **合成スクリプト**: `.v_scr`（Verilog HDL）
8. **Lintスクリプト**: `.l_scr`
9. **ログファイル**: `.log`, `.l_log`
10. **レポート**: `.rep`, `.tim`, `.ara`
11. **SDF**: `.sdf`
12. **EDIF**: `.edif`, `.edf`
13. **データベース**: `.db`

### バージョン管理

- CVS（またはRCS/Subversion）の使用推奨
- ファイル履歴管理の実施

## コメント規則

### 3.5.11 コメント記述

- EUC文字コード推奨
- `//`形式でのコメント使用
- `/* */`形式の使用（MISRA-Cでは推奨されない）
- ネストしたコメントは避ける

## 標準化の背景

### IEEE/IEC標準

- **IEC/IEEE 61691-4**: Verilog® Hardware Description Language
- **IEEE 1364**: Verilog HDL標準
- **IEEE 1800**: SystemVerilog標準
- **IEEE 1076.X**: VHDL標準シリーズ

### IEEE DASC Working Groups

- P1076: Standard VHDL Language Reference Manual
- P1800: SystemVerilog標準
- P1364.1: Verilog RTL Synthesis標準
- その他多数のワーキンググループ

## VHDLとVerilog-HDLの比較

- VHDL: より厳密な型システム
- Verilog-HDL: より簡潔な記述
- 両者とも約600ページの規格
- 記述様式は2種類（動作記述とRTL記述）

## 規約のレベル

ガイドラインは重要度により4段階に分類:

- `<1>`: 最重要（必須）
- `<2>`: 重要（強く推奨）
- `<3>`: 推奨
- `<4>`: 参考情報

## 設計フロー

1. **仕様定義**: 設計要求の明確化
2. **RTL設計**: コーディング規約に従った実装
3. **シミュレーション検証**: テストベンチによる機能検証
4. **論理合成**: FPGA/ASICへの実装
5. **静的タイミング解析**: タイミング制約の確認
6. **DFT対応**: テスト容易性の確保

## まとめ

このSTARCガイドラインは、Verilog HDL設計における品質、可読性、再利用性を向上させるための包括的な規約です。MISRA-Cの概念をハードウェア設計に適用し、以下を実現します:

- ✅ 一貫性のある設計スタイル
- ✅ 検証効率の向上
- ✅ バグの早期発見
- ✅ 保守性の向上
- ✅ チーム開発の効率化
- ✅ FPGA/ASIC両対応設計の実現

---

## 参考情報

- **STARC**: Semiconductor Technology Academic Research Center
- **SESSAME**: http://www.sessame.jp/
- **IEEE DASC**: Design Automation Standards Committee
- **IEC SC 93A**: Industrial-process measurement, control and automation

## ドキュメントの入手

- オリジナルファイル: `documents/starc_verilog_hdl201011.pptx-1.pdf`
- 全47ページの詳細な規約とサンプルコードを含む

---

*このまとめは、STARCのVerilog HDLコーディング規約（2010年版）から作成されました。*
*最新情報については、STARC公式サイトをご確認ください。*
